{% extends "base.html" %}

{% block title %}{{ laptop.name }} - E-Laptop{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="row">
        <!-- Immagine del laptop -->
        <div class="col-md-6">
            <img src="{{ laptop.image.url }}" class="img-fluid rounded shadow-sm" alt="{{ laptop.name }}">
        </div>

        <!-- Dettagli del laptop -->
        <div class="col-md-6">
            <h2>{{ laptop.name }}</h2>
            <p class="text-muted">{{ laptop.description }}</p>
            <h4 class="text-primary">â‚¬{{ laptop.price }}</h4>

            <!-- Aggiungi al carrello o altre azioni -->
            <div class="d-grid gap-2 my-4">
                <a href="#" class="btn btn-success btn-block">Aggiungi al Carrello</a>
                {% if user.is_authenticated %}
                    {% if user.user_type == 'seller' or user.is_superuser %}
                        {% if user.id == laptop.seller_id or user.is_superuser %}
                            <a href="{% url 'LaptopUpdate' laptop.id %}" class="btn btn-warning btn-block">Modifica Prodotto</a>
                            <a href="{% url 'LaptopDelete' laptop.id %}" class="btn btn-danger btn-block">Elimina Prodotto</a>
                        {% endif %}
                    {% endif %}
                {% endif %}
                <a href="{% url 'LaptopsList' %}" class="btn btn-secondary btn-block">Vai alla Lista Prodotti</a>
                {% if user.is_authenticated %}
                    {% if user.user_type == 'seller' or user.is_superuser %}
                        {% if user.id == laptop.seller_id or user.is_superuser %}
                            <a href="{% url 'SellerDashboard' user.id %}" class="btn btn-secondary btn-block">Vai alla Dashboard</a>
                        {% endif %}
                    {% endif %}
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Descrizione dettagliata (opzionale) -->
    <div class="row mt-5">
        <div class="col-md-12">
            <h4>Descrizione Dettagliata</h4>
            <p>{{ laptop.long_description|default:"Nessuna descrizione dettagliata disponibile." }}</p>
        </div>
    </div>
</div>
{% endblock %}
